{"dependencies":[{"name":"util","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":11,"index":26},"end":{"line":3,"column":26,"index":41}}],"key":"plO20G0zye191TqKMAMeOagk9EI=","exportNames":["*"],"imports":1}},{"name":"stream","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":13,"index":56},"end":{"line":4,"column":30,"index":73}}],"key":"ywjhWBPQUrHXIfwGsbgNg7Szt/A=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";let t=r(d[0]),s=r(d[1]),h=m.exports=function(){s.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding=\"utf8\",this.writable=!0};t.inherits(h,s),h.prototype.read=function(t,s){this._reads.push({length:Math.abs(t),allowLess:t<0,func:s}),process.nextTick(function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit(\"drain\"))}.bind(this))},h.prototype.write=function(t,s){if(!this.writable)return this.emit(\"error\",new Error(\"Stream not writable\")),!1;let h;return h=Buffer.isBuffer(t)?t:Buffer.from(t,s||this._encoding),this._buffers.push(h),this._buffered+=h.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused},h.prototype.end=function(t,s){t&&this.write(t,s),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},h.prototype.destroySoon=h.prototype.end,h.prototype._end=function(){this._reads.length>0&&this.emit(\"error\",new Error(\"Unexpected end of input\")),this.destroy()},h.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit(\"close\"))},h.prototype._processReadAllowingLess=function(t){this._reads.shift();let s=this._buffers[0];s.length>t.length?(this._buffered-=t.length,this._buffers[0]=s.slice(t.length),t.func.call(this,s.slice(0,t.length))):(this._buffered-=s.length,this._buffers.shift(),t.func.call(this,s))},h.prototype._processRead=function(t){this._reads.shift();let s=0,h=0,f=Buffer.alloc(t.length);for(;s<t.length;){let n=this._buffers[h++],o=Math.min(n.length,t.length-s);n.copy(f,s,0,o),s+=o,o!==n.length&&(this._buffers[--h]=n.slice(o))}h>0&&this._buffers.splice(0,h),this._buffered-=t.length,t.func.call(this,f)},h.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let t=this._reads[0];if(t.allowLess)this._processReadAllowingLess(t);else{if(!(this._buffered>=t.length))break;this._processRead(t)}}this._buffers&&!this.writable&&this._end()}catch(t){this.emit(\"error\",t)}}});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0],[1,45,3,4,"util"],[1,47,3,11,"require"],[1,49,3,18,"d"],[1,51,3,18],[1,55,4,4,"Stream"],[1,57,4,13,"require"],[1,59,4,20,"d"],[1,61,4,20],[1,65,6,4,"ChunkStream"],[1,67,6,19,"module"],[1,69,6,26,"exports"],[1,77,6,36],[1,88,7,2,"Stream"],[1,90,7,9,"call"],[1,95,7,14,"this"],[1,101,9,2,"this"],[1,106,9,7,"_buffers"],[1,115,9,18],[1,118,10,2,"this"],[1,123,10,7,"_buffered"],[1,133,10,19],[1,135,12,2,"this"],[1,140,12,7,"_reads"],[1,147,12,16],[1,150,13,2,"this"],[1,155,13,7,"_paused"],[1,164,13,17],[1,166,15,2,"this"],[1,171,15,7,"_encoding"],[1,181,15,19],[1,188,16,2,"this"],[1,193,16,7,"writable"],[1,203,16,18],[1,204,17,0],[1,206,18,0,"util"],[1,208,18,5,"inherits"],[1,217,18,14,"ChunkStream"],[1,219,18,27,"Stream"],[1,222,20,0,"ChunkStream"],[1,224,20,12,"prototype"],[1,234,20,22,"read"],[1,239,20,29],[1,248,20,39,"length"],[1,250,20,47,"callback"],[1,253,21,2,"this"],[1,258,21,7,"_reads"],[1,265,21,14,"push"],[1,270,21,19],[1,271,22,4,"length"],[1,278,22,12,"Math"],[1,283,22,17,"abs"],[1,287,22,21,"length"],[1,290,23,4,"allowLess"],[1,300,23,15,"length"],[1,302,23,24],[1,304,24,4,"func"],[1,309,24,10,"callback"],[1,313,27,2,"process"],[1,321,27,10,"nextTick"],[1,330,28,4],[1,341,29,6,"this"],[1,346,29,11,"_process"],[1,357,32,10,"this"],[1,362,32,15,"_paused"],[1,371,32,26,"this"],[1,376,32,31,"_reads"],[1,384,32,41,"this"],[1,389,32,46,"_reads"],[1,396,32,53,"length"],[1,403,32,62],[1,407,33,8,"this"],[1,412,33,13,"_paused"],[1,421,33,23],[1,423,35,8,"this"],[1,428,35,13,"emit"],[1,433,35,18],[1,442,37,4],[1,444,37,6,"bind"],[1,449,37,11,"this"],[1,455,39,0],[1,457,41,0,"ChunkStream"],[1,459,41,12,"prototype"],[1,469,41,22,"write"],[1,475,41,30],[1,484,41,40,"data"],[1,486,41,46,"encoding"],[1,489,42,2],[1,493,42,7,"this"],[1,498,42,12,"writable"],[1,507,44,4],[1,514,43,4,"this"],[1,519,43,9,"emit"],[1,524,43,14],[1,532,43,23],[1,536,43,27,"Error"],[1,542,43,33],[1,567,44,11],[1,569,47,2],[1,573,47,6,"dataBuffer"],[1,575,64,2],[1,582,49,4,"dataBuffer"],[1,584,48,6,"Buffer"],[1,591,48,13,"isBuffer"],[1,600,48,22,"data"],[1,603,49,17,"data"],[1,605,51,17,"Buffer"],[1,612,51,24,"from"],[1,617,51,29,"data"],[1,619,51,35,"encoding"],[1,622,51,47,"this"],[1,627,51,52,"_encoding"],[1,638,54,2,"this"],[1,643,54,7,"_buffers"],[1,652,54,16,"push"],[1,657,54,21,"dataBuffer"],[1,660,55,2,"this"],[1,665,55,7,"_buffered"],[1,676,55,20,"dataBuffer"],[1,678,55,31,"length"],[1,685,57,2,"this"],[1,690,57,7,"_process"],[1,701,60,6,"this"],[1,706,60,11,"_reads"],[1,714,60,44],[1,718,60,21,"this"],[1,723,60,26,"_reads"],[1,730,60,33,"length"],[1,739,61,4,"this"],[1,744,61,9,"_paused"],[1,753,61,19],[1,756,64,9,"this"],[1,761,64,14,"writable"],[1,772,64,27,"this"],[1,777,64,32,"_paused"],[1,784,65,0],[1,786,67,0,"ChunkStream"],[1,788,67,12,"prototype"],[1,798,67,22,"end"],[1,802,67,28],[1,811,67,38,"data"],[1,813,67,44,"encoding"],[1,816,68,6,"data"],[1,819,69,4,"this"],[1,824,69,9,"write"],[1,830,69,15,"data"],[1,832,69,21,"encoding"],[1,835,72,2,"this"],[1,840,72,7,"writable"],[1,850,72,18],[1,852,75,7,"this"],[1,857,75,12,"_buffers"],[1,868,80,31],[1,872,80,6,"this"],[1,877,80,11,"_buffers"],[1,886,80,20,"length"],[1,893,81,4,"this"],[1,898,81,9,"_end"],[1,906,83,4,"this"],[1,911,83,9,"_buffers"],[1,920,83,18,"push"],[1,925,83,23],[1,931,84,4,"this"],[1,936,84,9,"_process"],[1,948,86,0],[1,950,88,0,"ChunkStream"],[1,952,88,12,"prototype"],[1,962,88,22,"destroySoon"],[1,974,88,36,"ChunkStream"],[1,976,88,48,"prototype"],[1,986,88,58,"end"],[1,990,90,0,"ChunkStream"],[1,992,90,12,"prototype"],[1,1002,90,22,"_end"],[1,1007,90,29],[1,1018,91,6,"this"],[1,1023,91,11,"_reads"],[1,1030,91,18,"length"],[1,1037,91,27],[1,1040,92,4,"this"],[1,1045,92,9,"emit"],[1,1050,92,14],[1,1058,92,23],[1,1062,92,27,"Error"],[1,1068,92,33],[1,1096,95,2,"this"],[1,1101,95,7,"destroy"],[1,1110,96,0],[1,1112,98,0,"ChunkStream"],[1,1114,98,12,"prototype"],[1,1124,98,22,"destroy"],[1,1132,98,32],[1,1143,99,7,"this"],[1,1148,99,12,"_buffers"],[1,1159,103,2,"this"],[1,1164,103,7,"writable"],[1,1174,103,18],[1,1176,104,2,"this"],[1,1181,104,7,"_reads"],[1,1188,104,16],[1,1193,105,2,"this"],[1,1198,105,7,"_buffers"],[1,1207,105,18],[1,1212,107,2,"this"],[1,1217,107,7,"emit"],[1,1222,107,12],[1,1231,108,0],[1,1233,110,0,"ChunkStream"],[1,1235,110,12,"prototype"],[1,1245,110,22,"_processReadAllowingLess"],[1,1270,110,49],[1,1279,110,59,"read"],[1,1282,112,2,"this"],[1,1287,112,7,"_reads"],[1,1294,112,14,"shift"],[1,1302,115,2],[1,1306,115,6,"smallerBuf"],[1,1308,115,19,"this"],[1,1313,115,24,"_buffers"],[1,1322,115,33],[1,1325,118,6,"smallerBuf"],[1,1327,118,17,"length"],[1,1334,118,26,"read"],[1,1336,118,31,"length"],[1,1344,119,4,"this"],[1,1349,119,9,"_buffered"],[1,1360,119,22,"read"],[1,1362,119,27,"length"],[1,1369,120,4,"this"],[1,1374,120,9,"_buffers"],[1,1383,120,18],[1,1386,120,23,"smallerBuf"],[1,1388,120,34,"slice"],[1,1394,120,40,"read"],[1,1396,120,45,"length"],[1,1404,122,4,"read"],[1,1406,122,9,"func"],[1,1411,122,14,"call"],[1,1416,122,19,"this"],[1,1421,122,25,"smallerBuf"],[1,1423,122,36,"slice"],[1,1429,122,42],[1,1431,122,45,"read"],[1,1433,122,50,"length"],[1,1444,125,4,"this"],[1,1449,125,9,"_buffered"],[1,1460,125,22,"smallerBuf"],[1,1462,125,33,"length"],[1,1469,126,4,"this"],[1,1474,126,9,"_buffers"],[1,1483,126,18,"shift"],[1,1491,128,4,"read"],[1,1493,128,9,"func"],[1,1498,128,14,"call"],[1,1503,128,19,"this"],[1,1508,128,25,"smallerBuf"],[1,1511,130,0],[1,1513,132,0,"ChunkStream"],[1,1515,132,12,"prototype"],[1,1525,132,22,"_processRead"],[1,1538,132,37],[1,1547,132,47,"read"],[1,1550,133,2,"this"],[1,1555,133,7,"_reads"],[1,1562,133,14,"shift"],[1,1570,135,2],[1,1574,135,6,"pos"],[1,1576,135,12],[1,1578,136,6,"count"],[1,1580,136,14],[1,1582,137,6,"data"],[1,1584,137,13,"Buffer"],[1,1591,137,20,"alloc"],[1,1597,137,26,"read"],[1,1599,137,31,"length"],[1,1607,140,2],[1,1612,140,9,"pos"],[1,1614,140,15,"read"],[1,1616,140,20,"length"],[1,1624,140,28],[1,1625,141,4],[1,1629,141,8,"buf"],[1,1631,141,14,"this"],[1,1636,141,19,"_buffers"],[1,1645,141,28,"count"],[1,1650,142,8,"len"],[1,1652,142,14,"Math"],[1,1657,142,19,"min"],[1,1661,142,23,"buf"],[1,1663,142,27,"length"],[1,1670,142,35,"read"],[1,1672,142,40,"length"],[1,1679,142,49,"pos"],[1,1682,144,4,"buf"],[1,1684,144,8,"copy"],[1,1689,144,13,"data"],[1,1691,144,19,"pos"],[1,1693,144,24],[1,1695,144,27,"len"],[1,1698,145,4,"pos"],[1,1701,145,11,"len"],[1,1703,148,8,"len"],[1,1707,148,16,"buf"],[1,1709,148,20,"length"],[1,1718,149,6,"this"],[1,1723,149,11,"_buffers"],[1,1734,149,22,"count"],[1,1737,149,31,"buf"],[1,1739,149,35,"slice"],[1,1745,149,41,"len"],[1,1748,151,2],[1,1749,154,6,"count"],[1,1751,154,14],[1,1754,155,4,"this"],[1,1759,155,9,"_buffers"],[1,1768,155,18,"splice"],[1,1775,155,25],[1,1777,155,28,"count"],[1,1780,158,2,"this"],[1,1785,158,7,"_buffered"],[1,1796,158,20,"read"],[1,1798,158,25,"length"],[1,1805,160,2,"read"],[1,1807,160,7,"func"],[1,1812,160,12,"call"],[1,1817,160,17,"this"],[1,1822,160,23,"data"],[1,1824,161,0],[1,1826,163,0,"ChunkStream"],[1,1828,163,12,"prototype"],[1,1838,163,22,"_process"],[1,1847,163,33],[1,1858,164,2],[1,1862,166,4],[1,1867,166,11,"this"],[1,1872,166,16,"_buffered"],[1,1882,166,28],[1,1885,166,33,"this"],[1,1890,166,38,"_reads"],[1,1898,166,48,"this"],[1,1903,166,53,"_reads"],[1,1910,166,60,"length"],[1,1917,166,69],[1,1920,166,72],[1,1921,167,6],[1,1925,167,10,"read"],[1,1927,167,17,"this"],[1,1932,167,22,"_reads"],[1,1939,167,29],[1,1942,170,6],[1,1945,170,10,"read"],[1,1947,170,15,"allowLess"],[1,1957,171,8,"this"],[1,1962,171,13,"_processReadAllowingLess"],[1,1987,171,38,"read"],[1,1994,172,13],[1,2000,172,17,"this"],[1,2005,172,22,"_buffered"],[1,2016,172,35,"read"],[1,2018,172,40,"length"],[1,2026,179,8],[1,2032,175,8,"this"],[1,2037,175,13,"_processRead"],[1,2050,175,26,"read"],[1,2052,180,6],[1,2053,181,4],[1,2054,183,8,"this"],[1,2059,183,13,"_buffers"],[1,2070,183,26,"this"],[1,2075,183,31,"writable"],[1,2085,184,6,"this"],[1,2090,184,11,"_end"],[1,2096,186,2],[1,2097,186,4],[1,2103,186,11,"ex"],[1,2106,187,4,"this"],[1,2111,187,9,"emit"],[1,2116,187,14],[1,2124,187,23,"ex"],[1,2126,188,2],[1,2127,189,0],[1,2128,189,2],[1,2131]],"functionMap":{"names":["<global>","module.exports","ChunkStream.prototype.read","<anonymous>","ChunkStream.prototype.write","ChunkStream.prototype.end","ChunkStream.prototype._end","ChunkStream.prototype.destroy","ChunkStream.prototype._processReadAllowingLess","ChunkStream.prototype._processRead","ChunkStream.prototype._process"],"mappings":"AAA;oCCK;CDW;6BEG;ICQ;KDS;CFE;8BIE;CJwB;4BKE;CLmB;6BMI;CNM;gCOE;CPU;iDQE;CRoB;qCSE;CT6B;iCUE;CV0B"},"hasCjsExports":true},"type":"js/module"}]}