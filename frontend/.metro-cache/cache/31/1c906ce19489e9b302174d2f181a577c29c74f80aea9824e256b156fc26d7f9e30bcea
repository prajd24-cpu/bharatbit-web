{"dependencies":[{"name":"./constants","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":16,"index":31},"end":{"line":3,"column":38,"index":53}}],"key":"3z43bJyk/UB4EKjDCOXTFak09do=","exportNames":["*"],"imports":1}},{"name":"./crc","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":16,"index":71},"end":{"line":4,"column":32,"index":87}}],"key":"Jb1D9JLIa5BFBnTH9DyoJl+pJLk=","exportNames":["*"],"imports":1}},{"name":"./bitpacker","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":16,"index":105},"end":{"line":5,"column":38,"index":127}}],"key":"9Iqh1NeLuG01T44gZ5Prb9wviI8=","exportNames":["*"],"imports":1}},{"name":"./filter-pack","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":13,"index":142},"end":{"line":6,"column":37,"index":166}}],"key":"kiZOIg1JrKUVfTr4XBHfI77Zknk=","exportNames":["*"],"imports":1}},{"name":"zlib","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":11,"index":179},"end":{"line":7,"column":26,"index":194}}],"key":"7ZGzBJgs2mS8aYt35oOcBHDVVuM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";let t=r(d[0]),o=r(d[1]),n=r(d[2]),p=r(d[3]),l=r(d[4]),u=m.exports=function(o){if(this._options=o,o.deflateChunkSize=o.deflateChunkSize||32768,o.deflateLevel=null!=o.deflateLevel?o.deflateLevel:9,o.deflateStrategy=null!=o.deflateStrategy?o.deflateStrategy:3,o.inputHasAlpha=null==o.inputHasAlpha||o.inputHasAlpha,o.deflateFactory=o.deflateFactory||l.createDeflate,o.bitDepth=o.bitDepth||8,o.colorType=\"number\"==typeof o.colorType?o.colorType:t.COLORTYPE_COLOR_ALPHA,o.inputColorType=\"number\"==typeof o.inputColorType?o.inputColorType:t.COLORTYPE_COLOR_ALPHA,-1===[t.COLORTYPE_GRAYSCALE,t.COLORTYPE_COLOR,t.COLORTYPE_COLOR_ALPHA,t.COLORTYPE_ALPHA].indexOf(o.colorType))throw new Error(\"option color type:\"+o.colorType+\" is not supported at present\");if(-1===[t.COLORTYPE_GRAYSCALE,t.COLORTYPE_COLOR,t.COLORTYPE_COLOR_ALPHA,t.COLORTYPE_ALPHA].indexOf(o.inputColorType))throw new Error(\"option input color type:\"+o.inputColorType+\" is not supported at present\");if(8!==o.bitDepth&&16!==o.bitDepth)throw new Error(\"option bit depth:\"+o.bitDepth+\" is not supported at present\")};u.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},u.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},u.prototype.filterData=function(o,l,u){let s=n(o,l,u,this._options),f=t.COLORTYPE_TO_BPP_MAP[this._options.colorType];return p(s,l,u,this._options,f)},u.prototype._packChunk=function(t,n){let p=n?n.length:0,l=Buffer.alloc(p+12);return l.writeUInt32BE(p,0),l.writeUInt32BE(t,4),n&&n.copy(l,8),l.writeInt32BE(o.crc32(l.slice(4,l.length-4)),l.length-4),l},u.prototype.packGAMA=function(o){let n=Buffer.alloc(4);return n.writeUInt32BE(Math.floor(o*t.GAMMA_DIVISION),0),this._packChunk(t.TYPE_gAMA,n)},u.prototype.packIHDR=function(o,n){let p=Buffer.alloc(13);return p.writeUInt32BE(o,0),p.writeUInt32BE(n,4),p[8]=this._options.bitDepth,p[9]=this._options.colorType,p[10]=0,p[11]=0,p[12]=0,this._packChunk(t.TYPE_IHDR,p)},u.prototype.packIDAT=function(o){return this._packChunk(t.TYPE_IDAT,o)},u.prototype.packIEND=function(){return this._packChunk(t.TYPE_IEND,null)}});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0],[1,45,3,4,"constants"],[1,47,3,16,"require"],[1,49,3,23,"d"],[1,51,3,23],[1,55,4,4,"CrcStream"],[1,57,4,16,"require"],[1,59,4,23,"d"],[1,61,4,23],[1,65,5,4,"bitPacker"],[1,67,5,16,"require"],[1,69,5,23,"d"],[1,71,5,23],[1,75,6,4,"filter"],[1,77,6,13,"require"],[1,79,6,20,"d"],[1,81,6,20],[1,85,7,4,"zlib"],[1,87,7,11,"require"],[1,89,7,18,"d"],[1,91,7,18],[1,95,9,4,"Packer"],[1,97,9,14,"module"],[1,99,9,21,"exports"],[1,107,9,31],[1,116,9,41,"options"],[1,119,31,2],[1,122,10,2,"this"],[1,127,10,7,"_options"],[1,136,10,18,"options"],[1,138,12,2,"options"],[1,140,12,10,"deflateChunkSize"],[1,157,12,29,"options"],[1,159,12,37,"deflateChunkSize"],[1,177,12,53],[1,183,13,2,"options"],[1,185,13,10,"deflateLevel"],[1,198,14,28],[1,204,14,4,"options"],[1,206,14,12,"deflateLevel"],[1,219,14,35,"options"],[1,221,14,43,"deflateLevel"],[1,234,14,58],[1,236,15,2,"options"],[1,238,15,10,"deflateStrategy"],[1,254,16,31],[1,260,16,4,"options"],[1,262,16,12,"deflateStrategy"],[1,278,16,38,"options"],[1,280,16,46,"deflateStrategy"],[1,296,16,64],[1,298,17,2,"options"],[1,300,17,10,"inputHasAlpha"],[1,314,18,29],[1,320,18,4,"options"],[1,322,18,12,"inputHasAlpha"],[1,337,18,36,"options"],[1,339,18,44,"inputHasAlpha"],[1,353,19,2,"options"],[1,355,19,10,"deflateFactory"],[1,370,19,27,"options"],[1,372,19,35,"deflateFactory"],[1,388,19,53,"zlib"],[1,390,19,58,"createDeflate"],[1,404,20,2,"options"],[1,406,20,10,"bitDepth"],[1,415,20,21,"options"],[1,417,20,29,"bitDepth"],[1,427,20,41],[1,429,22,2,"options"],[1,431,22,10,"colorType"],[1,441,23,33],[1,458,23,11,"options"],[1,460,23,19,"colorType"],[1,470,24,8,"options"],[1,472,24,16,"colorType"],[1,482,25,8,"constants"],[1,484,25,18,"COLORTYPE_COLOR_ALPHA"],[1,506,26,2,"options"],[1,508,26,10,"inputColorType"],[1,523,27,38],[1,540,27,11,"options"],[1,542,27,19,"inputColorType"],[1,557,28,8,"options"],[1,559,28,16,"inputColorType"],[1,574,29,8,"constants"],[1,576,29,18,"COLORTYPE_COLOR_ALPHA"],[1,599,37,32],[1,603,32,4],[1,604,33,6,"constants"],[1,606,33,16,"COLORTYPE_GRAYSCALE"],[1,626,34,6,"constants"],[1,628,34,16,"COLORTYPE_COLOR"],[1,644,35,6,"constants"],[1,646,35,16,"COLORTYPE_COLOR_ALPHA"],[1,668,36,6,"constants"],[1,670,36,16,"COLORTYPE_ALPHA"],[1,687,37,6,"indexOf"],[1,695,37,14,"options"],[1,697,37,22,"colorType"],[1,708,39,4],[1,714,39,10],[1,718,39,14,"Error"],[1,724,40,6],[1,745,40,29,"options"],[1,747,40,37,"colorType"],[1,757,40,49],[1,789,43,2],[1,793,49,37],[1,797,44,4],[1,798,45,6,"constants"],[1,800,45,16,"COLORTYPE_GRAYSCALE"],[1,820,46,6,"constants"],[1,822,46,16,"COLORTYPE_COLOR"],[1,838,47,6,"constants"],[1,840,47,16,"COLORTYPE_COLOR_ALPHA"],[1,862,48,6,"constants"],[1,864,48,16,"COLORTYPE_ALPHA"],[1,881,49,6,"indexOf"],[1,889,49,14,"options"],[1,891,49,22,"inputColorType"],[1,907,51,4],[1,913,51,10],[1,917,51,14,"Error"],[1,923,52,6],[1,950,53,8,"options"],[1,952,53,16,"inputColorType"],[1,967,54,8],[1,999,57,2],[1,1002,57,27],[1,1006,57,6,"options"],[1,1008,57,14,"bitDepth"],[1,1018,57,53],[1,1023,57,32,"options"],[1,1025,57,40,"bitDepth"],[1,1034,58,4],[1,1040,58,10],[1,1044,58,14,"Error"],[1,1050,59,6],[1,1070,59,28,"options"],[1,1072,59,36,"bitDepth"],[1,1081,59,47],[1,1112,62,0],[1,1114,64,0,"Packer"],[1,1116,64,7,"prototype"],[1,1126,64,17,"getDeflateOptions"],[1,1144,64,37],[1,1155,65,2],[1,1161,65,9],[1,1162,66,4,"chunkSize"],[1,1172,66,15,"this"],[1,1177,66,20,"_options"],[1,1186,66,29,"deflateChunkSize"],[1,1203,67,4,"level"],[1,1209,67,11,"this"],[1,1214,67,16,"_options"],[1,1223,67,25,"deflateLevel"],[1,1236,68,4,"strategy"],[1,1245,68,14,"this"],[1,1250,68,19,"_options"],[1,1259,68,28,"deflateStrategy"],[1,1275,70,0],[1,1277,72,0,"Packer"],[1,1279,72,7,"prototype"],[1,1289,72,17,"createDeflate"],[1,1303,72,33],[1,1314,73,2],[1,1321,73,9,"this"],[1,1326,73,14,"_options"],[1,1335,73,23,"deflateFactory"],[1,1350,73,38,"this"],[1,1355,73,43,"getDeflateOptions"],[1,1375,74,0],[1,1377,76,0,"Packer"],[1,1379,76,7,"prototype"],[1,1389,76,17,"filterData"],[1,1400,76,30],[1,1409,76,40,"data"],[1,1411,76,46,"width"],[1,1413,76,53,"height"],[1,1416,78,2],[1,1420,78,6,"packedData"],[1,1422,78,19,"bitPacker"],[1,1424,78,29,"data"],[1,1426,78,35,"width"],[1,1428,78,42,"height"],[1,1430,78,50,"this"],[1,1435,78,55,"_options"],[1,1445,81,6,"bpp"],[1,1447,81,12,"constants"],[1,1449,81,22,"COLORTYPE_TO_BPP_MAP"],[1,1470,81,43,"this"],[1,1475,81,48,"_options"],[1,1484,81,57,"colorType"],[1,1495,83,2],[1,1502,82,21,"filter"],[1,1504,82,28,"packedData"],[1,1506,82,40,"width"],[1,1508,82,47,"height"],[1,1510,82,55,"this"],[1,1515,82,60,"_options"],[1,1524,82,70,"bpp"],[1,1526,84,0],[1,1528,86,0,"Packer"],[1,1530,86,7,"prototype"],[1,1540,86,17,"_packChunk"],[1,1551,86,30],[1,1560,86,40,"type"],[1,1562,86,46,"data"],[1,1565,87,2],[1,1569,87,6,"len"],[1,1571,87,12,"data"],[1,1573,87,19,"data"],[1,1575,87,24,"length"],[1,1582,87,33],[1,1584,88,6,"buf"],[1,1586,88,12,"Buffer"],[1,1593,88,19,"alloc"],[1,1599,88,25,"len"],[1,1601,88,31],[1,1605,101,2],[1,1612,90,2,"buf"],[1,1614,90,6,"writeUInt32BE"],[1,1628,90,20,"len"],[1,1630,90,25],[1,1633,91,2,"buf"],[1,1635,91,6,"writeUInt32BE"],[1,1649,91,20,"type"],[1,1651,91,26],[1,1654,93,6,"data"],[1,1657,94,4,"data"],[1,1659,94,9,"copy"],[1,1664,94,14,"buf"],[1,1666,94,19],[1,1669,97,2,"buf"],[1,1671,97,6,"writeInt32BE"],[1,1684,98,4,"CrcStream"],[1,1686,98,14,"crc32"],[1,1692,98,20,"buf"],[1,1694,98,24,"slice"],[1,1700,98,30],[1,1702,98,33,"buf"],[1,1704,98,37,"length"],[1,1711,98,46],[1,1715,99,4,"buf"],[1,1717,99,8,"length"],[1,1724,99,17],[1,1727,101,9,"buf"],[1,1728,102,0],[1,1730,104,0,"Packer"],[1,1732,104,7,"prototype"],[1,1742,104,17,"packGAMA"],[1,1751,104,28],[1,1760,104,38,"gamma"],[1,1763,105,2],[1,1767,105,6,"buf"],[1,1769,105,12,"Buffer"],[1,1776,105,19,"alloc"],[1,1782,105,25],[1,1785,107,2],[1,1792,106,2,"buf"],[1,1794,106,6,"writeUInt32BE"],[1,1808,106,20,"Math"],[1,1813,106,25,"floor"],[1,1819,106,31,"gamma"],[1,1821,106,39,"constants"],[1,1823,106,49,"GAMMA_DIVISION"],[1,1839,106,66],[1,1842,107,9,"this"],[1,1847,107,14,"_packChunk"],[1,1858,107,25,"constants"],[1,1860,107,35,"TYPE_gAMA"],[1,1870,107,46,"buf"],[1,1872,108,0],[1,1874,110,0,"Packer"],[1,1876,110,7,"prototype"],[1,1886,110,17,"packIHDR"],[1,1895,110,28],[1,1904,110,38,"width"],[1,1906,110,45,"height"],[1,1909,111,2],[1,1913,111,6,"buf"],[1,1915,111,12,"Buffer"],[1,1922,111,19,"alloc"],[1,1928,111,25],[1,1932,120,2],[1,1939,112,2,"buf"],[1,1941,112,6,"writeUInt32BE"],[1,1955,112,20,"width"],[1,1957,112,27],[1,1960,113,2,"buf"],[1,1962,113,6,"writeUInt32BE"],[1,1976,113,20,"height"],[1,1978,113,28],[1,1981,114,2,"buf"],[1,1983,114,6],[1,1986,114,11,"this"],[1,1991,114,16,"_options"],[1,2000,114,25,"bitDepth"],[1,2009,115,2,"buf"],[1,2011,115,6],[1,2014,115,11,"this"],[1,2019,115,16,"_options"],[1,2028,115,25,"colorType"],[1,2038,116,2,"buf"],[1,2040,116,6],[1,2044,116,12],[1,2046,117,2,"buf"],[1,2048,117,6],[1,2052,117,12],[1,2054,118,2,"buf"],[1,2056,118,6],[1,2060,118,12],[1,2062,120,9,"this"],[1,2067,120,14,"_packChunk"],[1,2078,120,25,"constants"],[1,2080,120,35,"TYPE_IHDR"],[1,2090,120,46,"buf"],[1,2092,121,0],[1,2094,123,0,"Packer"],[1,2096,123,7,"prototype"],[1,2106,123,17,"packIDAT"],[1,2115,123,28],[1,2124,123,38,"data"],[1,2127,124,2],[1,2134,124,9,"this"],[1,2139,124,14,"_packChunk"],[1,2150,124,25,"constants"],[1,2152,124,35,"TYPE_IDAT"],[1,2162,124,46,"data"],[1,2164,125,0],[1,2166,127,0,"Packer"],[1,2168,127,7,"prototype"],[1,2178,127,17,"packIEND"],[1,2187,127,28],[1,2198,128,2],[1,2205,128,9,"this"],[1,2210,128,14,"_packChunk"],[1,2221,128,25,"constants"],[1,2223,128,35,"TYPE_IEND"],[1,2233,128,46],[1,2238,129,0],[1,2239,129,2],[1,2242]],"functionMap":{"names":["<global>","module.exports","Packer.prototype.getDeflateOptions","Packer.prototype.createDeflate","Packer.prototype.filterData","Packer.prototype._packChunk","Packer.prototype.packGAMA","Packer.prototype.packIHDR","Packer.prototype.packIDAT","Packer.prototype.packIEND"],"mappings":"AAA;+BCQ;CDqD;qCEE;CFM;iCGE;CHE;8BIE;CJQ;8BKE;CLgB;4BME;CNI;4BOE;CPW;4BQE;CRE;4BSE;CTE"},"hasCjsExports":true},"type":"js/module"}]}